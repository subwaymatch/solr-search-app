{"version":3,"sources":["constants.js","components/SearchForm.js","components/SearchRankAlgorithm.js","components/SearchControls.js","components/SearchResultItem.js","components/SearchResults.js","components/Footer.js","components/App.js","index.js"],"names":["SEARCH_ALGO_DEFAULT","axios","require","getSuggestionValue","suggestion","renderSuggestion","react_default","a","createElement","SearchForm","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onChange","event","_ref","newValue","method","props","onQueryTermChange","onSuggestionsFetchRequested","_ref2","value","loadSuggestions","onSuggestionsClearRequested","setState","suggestions","state","handleSearchFormSubmit","bind","assertThisInitialized","_this2","trim","replace","get","params","q","then","response","data","catch","error","console","log","e","preventDefault","requestSearch","searchInputVal","inputProps","placeholder","className","id","onSubmit","dist_default","Component","classNames","SearchRankAlgorithm","defaultAlgoBtnClass","option-select","selected","searchAlgorithm","Constants","pageRankAlgoBtnClass","onClick","handleSearchAlgorithmChange","SearchControls","src_components_SearchForm","src_components_SearchRankAlgorithm","SearchResultItem","_this$props","idx","title","snippet","url","href","toString","padStart","SearchResults","spellCorrection","items","spellCorrectionDiv","corrected","original","map","doc","src_components_SearchResultItem","key","og_title","og_url","Footer","src","alt","App","toast","configure","val","queryTerm","fl","wt","ignoreSpellCheck","arguments","length","undefined","_response$data","newState","newAlgorithm","src_components_SearchControls","src_components_SearchResults","src_components_Footer","defaults","baseURL","rootElement","document","getElementById","ReactDOM","render","src_components_App"],"mappings":"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","file":"static/js/main.ae02d219.chunk.js","sourcesContent":["export const SEARCH_ALGO_DEFAULT = \"Lucene\";\r\nexport const SEARCH_ALGO_PAGERANK = \"PageRank\";","import React, { Component } from \"react\";\nimport Autosuggest from \"react-autosuggest\";\n\nimport \"./SearchForm.scss\";\n\nconst axios = require(\"axios\");\n\n// https://developer.mozilla.org/en/docs/Web/JavaScript/Guide/Regular_Expressions#Using_Special_Characters\nfunction escapeRegexCharacters(str) {\n  return str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\n\nfunction getSuggestionValue(suggestion) {\n  return suggestion;\n}\n\nfunction renderSuggestion(suggestion) {\n  return <span>{suggestion}</span>;\n}\n\nclass SearchForm extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      suggestions: []\n    };\n\n    this.handleSearchFormSubmit = this.handleSearchFormSubmit.bind(this);\n  }\n\n  onChange = (event, { newValue, method }) => {\n    this.props.onQueryTermChange(newValue);\n  };\n\n  onSuggestionsFetchRequested = ({ value }) => {\n    this.loadSuggestions(value);\n  };\n\n  onSuggestionsClearRequested = () => {\n    this.setState({\n      suggestions: []\n    });\n  };\n\n  loadSuggestions(value) {\n    const escapedValue = escapeRegexCharacters(value.trim());\n\n    if (escapedValue === \"\") {\n      return;\n    }\n\n    axios\n      .get(\"/suggest\", {\n        params: {\n          q: value\n        }\n      })\n      .then(response => {\n        this.setState({ suggestions: response.data });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n\n  handleSearchFormSubmit(e) {\n    e.preventDefault();\n\n    this.props.requestSearch(this.props.searchInputVal);\n  }\n\n  render() {\n    const { suggestions } = this.state;\n    const inputProps = {\n      placeholder: \"Search\",\n      value: this.props.searchInputVal,\n      onChange: this.onChange\n    };\n\n    return (\n      <div className=\"search-form-wrapper\">\n        <i className=\"material-icons\">search</i>\n        <form id=\"search-form\" onSubmit={this.handleSearchFormSubmit}>\n          <Autosuggest\n            suggestions={suggestions}\n            onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\n            onSuggestionsClearRequested={this.onSuggestionsClearRequested}\n            getSuggestionValue={getSuggestionValue}\n            renderSuggestion={renderSuggestion}\n            inputProps={inputProps}\n          />\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default SearchForm;\n","import React, { Component } from \"react\";\nimport * as Constants from \"../constants\";\n\nimport \"./SearchRankAlgorithm.scss\";\n\nlet classNames = require(\"classnames\");\n\nclass SearchRankAlgorithm extends Component {\n\trender() {\n\t\tlet defaultAlgoBtnClass = classNames({\n\t\t\t\"option-select\": true,\n\t\t\tselected: this.props.searchAlgorithm === Constants.SEARCH_ALGO_DEFAULT\n\t\t});\n\n\t\tlet pageRankAlgoBtnClass = classNames({\n\t\t\t\"option-select\": true,\n\t\t\tselected: this.props.searchAlgorithm === Constants.SEARCH_ALGO_PAGERANK\n\t\t});\n\n\t\treturn (\n\t\t\t<div className=\"search-rank-algorithm-wrapper\">\n\t\t\t\t<label className=\"search-algorithm-label\">Search Algorithm</label>\n\t\t\t\t<div\n\t\t\t\t\tid=\"option-default\"\n\t\t\t\t\tclassName={defaultAlgoBtnClass}\n\t\t\t\t\tonClick={e =>\n\t\t\t\t\t\tthis.props.handleSearchAlgorithmChange(\n\t\t\t\t\t\t\tConstants.SEARCH_ALGO_DEFAULT\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<label>Lucene</label>\n\t\t\t\t\t<div className=\"indicator-wrapper\">\n\t\t\t\t\t\t<span className=\"circle show-on-selected\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tid=\"option-pagerank\"\n\t\t\t\t\tclassName={pageRankAlgoBtnClass}\n\t\t\t\t\tonClick={e =>\n\t\t\t\t\t\tthis.props.handleSearchAlgorithmChange(\n\t\t\t\t\t\t\tConstants.SEARCH_ALGO_PAGERANK\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<label>PageRank</label>\n\t\t\t\t\t<div className=\"indicator-wrapper\">\n\t\t\t\t\t\t<span className=\"circle show-on-selected\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SearchRankAlgorithm; ","import React, { Component } from \"react\";\nimport SearchForm from \"./SearchForm\";\nimport SearchRankAlgorithm from \"./SearchRankAlgorithm\";\n\nimport \"./SearchControls.scss\";\n\nclass SearchControls extends Component {\n  render() {\n    return (\n      <div className=\"search-controls\">\n        <div className=\"row\">\n          <div className=\"col-md-7\">\n            <SearchForm\n              onQueryTermChange={this.props.onQueryTermChange}\n              searchInputVal={this.props.searchInputVal}\n              requestSearch={this.props.requestSearch}\n            />\n          </div>\n\n          <div className=\"col-md-5\">\n            <SearchRankAlgorithm\n              handleSearchAlgorithmChange={\n                this.props.handleSearchAlgorithmChange\n              }\n              searchAlgorithm={this.props.searchAlgorithm}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SearchControls;\n","import React, { Component } from \"react\";\n\nimport \"./SearchResultItem.scss\";\n\nclass SearchResultItem extends Component {\n  render() {\n    let { idx, id, title, snippet, url } = this.props;\n\n    return (\n      <div className=\"search-result-item\">\n        <a className=\"box-link\" href={url} title={title}>\n          <div className=\"title-wrapper\">\n            <div className=\"row\">\n              <div className=\"col-md-2\">\n                <p className=\"index-display\">\n                  {(idx + 1).toString().padStart(2, 0)}\n                </p>\n              </div>\n\n              <div className=\"col-md-10\">\n                <h2>{title}</h2>\n                <p className=\"snippet\">{snippet}</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"id\">\n            <i className=\"material-icons\">fingerprint</i>\n            <span>{id}</span>\n          </div>\n          <div className=\"url\">\n            <i className=\"material-icons\">link</i>\n            <span>{url}</span>\n          </div>\n        </a>\n      </div>\n    );\n  }\n}\n\nexport default SearchResultItem;\n","import React, { Component } from \"react\";\nimport SearchResultItem from \"./SearchResultItem\";\n\nimport \"./SearchResults.scss\";\n\nclass SearchResults extends Component {\n  render() {\n    const { spellCorrection, items, requestSearch } = this.props;\n\n    const spellCorrectionDiv = spellCorrection ? (\n      <div id=\"spell-correction-wrapper\">\n        <div id=\"query-term-corrected\">\n          Showing results for{\" \"}\n          <span className=\"term\">{spellCorrection.corrected}</span>\n        </div>\n        <div\n          id=\"query-term-original\"\n          onClick={() => {\n            requestSearch(spellCorrection.original, true);\n          }}\n        >\n          Search for&nbsp;\n          <span className=\"term\">{spellCorrection.original}</span>&nbsp;instead\n        </div>\n      </div>\n    ) : null;\n\n    return (\n      <div id=\"search-results\">\n        {spellCorrectionDiv}\n        <div id=\"search-result\">\n          {items.map((doc, idx) => {\n            return (\n              <SearchResultItem\n                key={doc.id}\n                idx={idx}\n                id={doc.id}\n                title={doc.og_title ? doc.og_title : \"N/A\"}\n                snippet={doc.snippet ? doc.snippet : \"N/A\"}\n                url={doc.og_url}\n              />\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SearchResults;\n","import React, { Component } from \"react\";\nimport \"./Footer.scss\";\n\nclass Footer extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"footer\">\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t<div className=\"col-md-12\">\n\t\t\t\t\t\t<div className=\"footer-logo-wrapper\">\n\t\t\t\t\t\t\t<span>Articles indexed from</span>\n\t\t\t\t\t\t\t<img src=\"/images/Logo_The_Guardian.png\" alt=\"The Guardian\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Footer; ","import React, { Component } from \"react\";\n\nimport \"reset-css\";\nimport \"bootstrap/dist/css/bootstrap-grid.min.css\";\nimport \"./App.scss\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.min.css\";\nimport * as Constants from \"../constants\";\n\nimport SearchControls from \"./SearchControls\";\nimport SearchResults from \"./SearchResults\";\nimport Footer from \"./Footer\";\n\nconst axios = require(\"axios\");\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      searchAlgorithm: Constants.SEARCH_ALGO_DEFAULT,\n      spellCorrection: null,\n      items: [],\n      searchInputVal: \"\"\n    };\n\n    // Configure Android-styled toast\n    toast.configure();\n\n    this.handleSearchAlgorithmChange = this.handleSearchAlgorithmChange.bind(\n      this\n    );\n\n    this.onQueryTermChange = this.onQueryTermChange.bind(this);\n    this.requestSearch = this.requestSearch.bind(this);\n  }\n\n  onQueryTermChange(val) {\n    this.setState({\n      searchInputVal: val\n    });\n  }\n\n  requestSearch(queryTerm, ignoreSpellCheck = false) {\n    var params = {\n      q: queryTerm,\n      fl: \"id,og_title,og_url\",\n      wt: \"json\",\n      ignoreSpellCheck: ignoreSpellCheck\n    };\n\n    if (queryTerm !== this.state.searchInputVal) {\n      this.setState({\n        searchInputVal: queryTerm\n      });\n    }\n\n    if (this.state.searchAlgorithm === Constants.SEARCH_ALGO_PAGERANK) {\n      params[\"sort\"] = \"pageRankFile desc\";\n    }\n\n    axios\n      .get(\"/select\", {\n        params: params\n      })\n      .then(response => {\n        console.log(response.data);\n        const { items, spellCorrection } = response.data;\n\n        let newState = {\n          items: items,\n          spellCorrection: spellCorrection\n        };\n\n        if (spellCorrection) {\n          newState.searchInputVal = spellCorrection.corrected;\n        }\n\n        this.setState(newState);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n\n  handleSearchAlgorithmChange(newAlgorithm) {\n    this.setState({\n      searchAlgorithm: newAlgorithm\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"box-wrapper\">\n          <SearchControls\n            searchInputVal={this.state.searchInputVal}\n            onQueryTermChange={this.onQueryTermChange}\n            requestSearch={this.requestSearch}\n            handleSearchAlgorithmChange={this.handleSearchAlgorithmChange}\n            searchAlgorithm={this.state.searchAlgorithm}\n          />\n          <SearchResults\n            requestSearch={this.requestSearch}\n            spellCorrection={this.state.spellCorrection}\n            items={this.state.items}\n          />\n          <Footer />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./components/App\";\n\nconst axios = require(\"axios\");\naxios.defaults.baseURL = \"http://localhost:8080/api/v1.0/\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}